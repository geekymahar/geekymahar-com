function init_backgrounds(){if(typeof option_hero_background_mode_mobile=='undefined')return;var a="Error! No background is set or something went wrong";is_mobile_device==!0&&option_hero_background_mode_mobile!="match"&&(option_hero_background_mode=option_hero_background_mode_mobile);function b(){let a=new URLSearchParams(window.location.search);a.has('bg')&&(option_hero_background_mode=a.get('bg'))}if(b(),jQuery("#main").length==0)return;if(typeof option_hero_background_mode=='undefined')return;switch(option_hero_background_mode){case"color":colorBackground();break;case"square":squareBackground();break;case"twisted":twistedBackground();break;case"asteroids":asteroidsBackground();break;case"circle":circleBackground();break;case"lines":linesBackground();break;case"waves":wavesBackground();break;default:colorBackground(),console.log(a);break}}init_backgrounds();function colorBackground(){jQuery("body").append('<div class="bg-color" style="background-color:'+option_hero_background_color_bg+'"></div>')}function squareBackground(){jQuery("body").append('<div class="bg-color" style="background-color:'+option_hero_background_square_bg+'"></div>'),jQuery("#main").append('<ul class="bg-bubbles '+option_hero_background_square_mode+'"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>')}function asteroidsBackground(){var d=new THREE.WebGLRenderer({antialias:!0}),g,b,r,l,f,c,e,k,i,h,j;d.setSize(window.innerWidth,window.innerHeight),d.shadowMap.enabled=!1,d.shadowMap.type=THREE.PCFSoftShadowMap,d.shadowMap.needsUpdate=!0,d.domElement.id='canvas-asteroids',document.getElementById("main").appendChild(d.domElement),window.addEventListener('resize',o,!1);function o(){g.aspect=window.innerWidth/window.innerHeight,g.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}g=new THREE.PerspectiveCamera(35,window.innerWidth/window.innerHeight,1,500),b=new THREE.Scene,r=3,b.fog=new THREE.Fog(option_hero_background_asteroids_bg_color,2.5,3.5),l=new THREE.Object3D,f=new THREE.Object3D,c=new THREE.Object3D;function q(i){for(var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,g=new THREE.MeshStandardMaterial({color:option_hero_background_asteroids_particle_color,side:THREE.DoubleSide}),h=new THREE.CircleGeometry(.2,5),e=1,d,b;e<i;e++)d=.001+Math.abs(a(.03)),b=new THREE.Mesh(h,g),b.position.set(a(c),a(c),a(c)),b.rotation.set(a(),a(),a()),b.scale.set(d,d,d),b.speedValue=a(1),f.add(b)}q(200,2),l.add(f),b.add(c),b.add(l);function a(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,b=-Math.random()*a+Math.random()*a;return b}function n(){for(var e=0,f,g,b,d;e<30;e++)f=new THREE.IcosahedronGeometry(1),g=new THREE.MeshStandardMaterial({flatShading:THREE.FlatShading,color:option_hero_background_asteroids_cube_color,transparent:!1,opacity:1,wireframe:!1}),b=new THREE.Mesh(f,g),b.speedRotation=Math.random()*.1,b.positionX=a(),b.positionY=a(),b.positionZ=a(),b.castShadow=!0,b.receiveShadow=!0,d=a(.3),b.scale.set(d,d,d),b.rotation.x=a(180*Math.PI/180),b.rotation.y=a(180*Math.PI/180),b.rotation.z=a(180*Math.PI/180),b.position.set(b.positionX,b.positionY,b.positionZ),c.add(b)}g.position.set(0,0,r),e=new THREE.SpotLight(option_hero_background_asteroids_spotlight_color,option_hero_background_asteroids_spotlight_intensity),e.position.set(5,5,2),e.castShadow=!0,e.shadow.mapSize.width=1e4,e.shadow.mapSize.height=e.shadow.mapSize.width,e.penumbra=.5,k=new THREE.PointLight(option_hero_background_asteroids_pointlight_color,option_hero_background_asteroids_pointlight_intensity),k.position.set(0,-3,-1),i=new THREE.RectAreaLight(option_hero_background_asteroids_rectarealight_color,option_hero_background_asteroids_rectarealight_intensity,2,2),i.position.set(0,0,1),i.lookAt(0,0,0),b.add(e),b.add(k),b.add(i),h=new THREE.Vector2;function p(a){a.preventDefault(),h.x=a.clientX/window.innerWidth*2-1,h.y=-(a.clientY/window.innerHeight)*2+1}window.addEventListener('mousemove',p,!1),j=.01;function m(){var k=performance.now()*3e-4,e,l,i,a;requestAnimationFrame(m);for(e=0,l=f.children.length;e<l;e++)i=f.children[e],i.rotation.x+=i.speedValue/10,i.rotation.y+=i.speedValue/10,i.rotation.z+=i.speedValue/10;for(e=0,l=c.children.length;e<l;e++)a=c.children[e],a.rotation.x+=.008,a.rotation.y+=.005,a.rotation.z+=.003,a.position.x=Math.sin(k*a.positionZ)*a.positionY,a.position.y=Math.cos(k*a.positionX)*a.positionZ,a.position.z=Math.sin(k*a.positionY)*a.positionX;f.rotation.y+=.005,c.rotation.y-=(h.x*4+c.rotation.y)*j,c.rotation.x-=(-h.y*4+c.rotation.x)*j,g.lookAt(b.position),d.render(b,g)}m(),n(),jQuery("#canvas-asteroids").css("opacity",option_hero_background_asteroids_scene_opacity),jQuery("body").append('<div class="bg-color" style="background-color:'+option_hero_background_asteroids_bg_color+'"></div>')}function circleBackground(){var b=document.getElementById("main").appendChild(document.createElement('canvas')),a=b.getContext('2d'),k=0,f=.1,q=option_hero_background_circle_speed,c=400,g=6,n=c/g,h=c*.25,l=6,o=6,t,s,d,e;b.setAttribute("id","canvas-circle"),p(),jQuery("#canvas-circle").css("opacity",option_hero_background_circle_scene_opacity),jQuery("body").append('<div class="bg-color" style="background-color:'+option_hero_background_circle_bg_color+'"></div>');function p(){j(),i(),window.addEventListener('resize',j)}function j(){d=b.width=window.innerWidth,e=b.height=window.innerHeight}function i(){k+=f,f+=(q-f)*.3,r(),m(),requestAnimationFrame(i)}function r(){a.clearRect(0,0,d,e)}function m(){var j,f,i=d/2,m=e/2,p,b,r,s,q;a.globalCompositeOperation='lighter',a.strokeStyle=option_hero_background_circle_line_color,a.shadowColor=option_hero_background_circle_line_color,a.lineWidth=2,a.beginPath();for(p=n;p>0;p--)b=p*g+k%g,r=Math.sin(b/l)*Math.PI,s=Math.cos(b/l)*Math.PI,j=r*b,f=s*b*.35,q=1-Math.min(b,h)/h,f-=Math.pow(q,2)*200,f+=200*b/c,f+=j/i*d*.1,a.globalAlpha=1-b/c,a.shadowBlur=o*q,a.lineTo(i+j,m+f),a.stroke(),a.beginPath(),a.moveTo(i+j,m+f);a.lineTo(i,m-200),a.lineTo(i,0),a.stroke()}}function linesBackground(){const d=document.getElementById("main").appendChild(document.createElement('canvas')),a=d.getContext('2d'),e=[];var f=0,c=0,b=0;window.onresize=g,d.setAttribute("id","canvas-lines"),g(),h(),jQuery("#canvas-lines").css({opacity:option_hero_background_lines_scene_opacity,transform:"translate(-50%, -50%) rotate(45deg)",left:"50%",top:"50%"}),jQuery("body").append('<div class="bg-color" style="background-color:'+option_hero_background_lines_bg_color+'"></div>');function g(){c=b=Math.sqrt(Math.pow(window.innerWidth,2)+Math.pow(window.innerHeight,2)),e.length=0;let a=b/26,d=14,f=c/d,g=b/a;for(let b=0;b<a;b++){let h={points:[],ran:.2+Math.random()*.7};for(let a=0;a<d;a++)h.points.push({nx:a*f,ny:b*g});h.points.push({nx:c+f,ny:b*g}),e.push(h)}}function h(){f+=.8,d.width=c,d.height=b,a.clearRect(0,0,c,b),a.lineWidth=2,a.strokeStyle=option_hero_background_lines_line_color,a.fillStyle=option_hero_background_lines_bg_color,e.forEach(function(d,e){a.beginPath(),d.points.forEach(function(a,c){a.x=a.nx,a.y=a.ny+Math.sin((a.x*d.ran+(f+a.ny))/40)*(6+a.ny/b*34)}),d.points.forEach(function(b,e){var c=d.points[e+1],f,g;e===0?a.moveTo(b.x,b.y):c&&(f=b.x+(c.x-b.x)/2,g=b.y+(c.y-b.y)/2,a.quadraticCurveTo(b.x,b.y,f,g))}),a.stroke(),a.lineTo(c,b),a.lineTo(0,b),a.closePath(),a.fill()}),requestAnimationFrame(h)}}function twistedBackground(){var c=document.getElementById("main").appendChild(document.createElement('canvas')),a=c.getContext('2d'),i=window.innerWidth,h=window.innerHeight,d=Math.min(window.innerWidth,window.innerHeight)*1,e=d>300?180:90,b=[],f=d*.3,j=Math.round(e*.1);c.setAttribute("id","canvas-twisted"),jQuery("#canvas-twisted").css("opacity",option_hero_background_twisted_scene_opacity),jQuery("#canvas-twisted").css("transform","translateX("+option_hero_background_twisted_x_offset+")"),jQuery("body").append('<div class="bg-color" style="background-color:'+option_hero_background_twisted_bg_color+'"></div>');function p(){k(),l()}function k(){i=window.innerWidth,h=window.innerHeight,c.width=i,c.height=h,d=Math.min(window.innerWidth,window.innerHeight)*1,f=d*.3,j=Math.round(e*.1),b=[];for(var a=0;a<e;a++)b.push({x:window.innerWidth/1+Math.sin(a/e*2*Math.PI)*(d-f),y:window.innerHeight/2+Math.cos(a/e*2*Math.PI)*(d-f),r:a/e*Math.PI})}window.addEventListener("resize",k);function l(){requestAnimationFrame(l),m(),n(),o()}function m(){for(var a=0,c=b.length;a<c;a++)b[a].r+=option_hero_background_twisted_speed}function n(){a.clearRect(0,0,c.width,c.height)}function o(){for(var d=b.length,c=d-j,e=d;c<e;c++)a.save(),a.globalCompositeOperation='destination-over',g(b[c]),a.restore();a.save(),a.globalCompositeOperation='destination-in',g(b[0],!0),a.restore();for(c=0,e=d;c<e;c++)a.save(),a.globalCompositeOperation='destination-over',g(b[c]),a.restore()}function g(b,c){size=f+(c?10:0),size2=size/2,a.translate(b.x,b.y),a.rotate(b.r),c||(a.strokeStyle=option_hero_background_twisted_line_color,a.lineWidth=1,a.strokeRect(-size2,-size2,size,size)),a.fillStyle=option_hero_background_twisted_fill_color,a.fillRect(-size2,-size2,size,size)}(function(){for(var c=0,b=['ms','moz','webkit','o'],a=0;a<b.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[b[a]+'RequestAnimationFrame'],window.cancelAnimationFrame=window[b[a]+'CancelAnimationFrame']||window[b[a]+'CancelRequestAnimationFrame'];window.requestAnimationFrame||(window.requestAnimationFrame=function(d,f){var a=(new Date).getTime(),b=Math.max(0,16-(a-c)),e=window.setTimeout(function(){d(a+b)},b);return c=a+b,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})(),p()}function wavesBackground(){var f=15e3,k=100,j=1245e3,i=background_waves_background_color,o=background_waves_mesh_color,m=document.getElementById('main'),e=[],h=0,a=new THREE.PerspectiveCamera(55,window.innerWidth/window.innerHeight,1,4e5),d,b,l,c;a.position.z=1e4,a.position.y=1e4,d=new THREE.Scene,d.fog=new THREE.Fog(i,1,3e5),b=new THREE.PlaneGeometry(j,j,k,k),l=new THREE.Mesh(b,new THREE.MeshBasicMaterial({color:o,wireframe:!0})),l.rotation.x-=Math.PI*.5,d.add(l),c=new THREE.WebGLRenderer({alpha:!1}),c.setSize(window.innerWidth,window.innerHeight),c.setClearColor(i,1),m.appendChild(c.domElement);function n(){for(var a=0,c;a<b.attributes.position.count;a++)c=Math.random()*f-f,b.attributes.position.setZ(a,c),e[a]=c}n();function g(){var j,k,f,i;requestAnimationFrame(g),j=a.position.x,k=a.position.z,a.position.x=j*Math.cos(.001)+k*Math.sin(.001)-10,a.position.z=k*Math.cos(.001)-j*Math.sin(.001)-10,a.lookAt(new THREE.Vector3(0,9e3,0));for(f=0;f<b.attributes.position.count;f++){if(i=Math.sin(f+h*2e-5)*(e[f]-e[f]*.6),i!==i)return;b.attributes.position.setZ(f,i),b.attributes.position.needsUpdate=!0,h+=.075}c.render(d,a)}g();function p(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}window.addEventListener('resize',p,!1)}