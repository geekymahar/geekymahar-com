/*!
 * element-resize-detector 1.2.3
 * Copyright (c) 2016 Lucas Wiener
 * https://github.com/wnr/element-resize-detector
 * Licensed under MIT
 */!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.elementResizeDetectorMaker=a()}}(function(){return function(){function a(b,c,d){function e(f,k){var i,j,h;if(!c[f]){if(!b[f]){if(i="function"==typeof require&&require,!k&&i)return i(f,!0);if(g)return g(f,!0);throw j=new Error("Cannot find module '"+f+"'"),j.code="MODULE_NOT_FOUND",j}h=c[f]={exports:{}},b[f][0].call(h.exports,function(a){return e(b[f][1][a]||a)},h,h.exports,a,b,c,d)}return c[f].exports}for(var g="function"==typeof require&&require,f=0;f<d.length;f++)e(d[f]);return e}return a}()({1:[function(c,d,e){"use strict";function a(){function g(e,f){f||(f=e,e=0),e>c?c=e:e<b&&(b=e),a[e]||(a[e]=[]),a[e].push(f),d++}function e(){for(var d=b,f,e,g;d<=c;d++)for(f=a[d],e=0;e<f.length;e++)g=f[e],g()}function f(){return d}var a={},d=0,c=0,b=0;return{add:g,process:e,size:f}}var b=c("./utils");d.exports=function(d){var h,f,i,e,c,g;function n(a,b){!g&&i&&f&&0===c.size()&&j(),c.add(a,b)}function k(){for(g=!0;c.size();){var b=c;c=a(),b.process()}g=!1}function m(a){g||(void 0===a&&(a=f),e&&(l(e),e=null),a?j():k())}function j(){e=o(k)}function l(a){return clearTimeout(a)}function o(a){return function(a){return setTimeout(a,0)}(a)}return d=d||{},h=d.reporter,f=b.getOption(d,"async",!0),i=b.getOption(d,"auto",!0),i&&!f&&(h&&h.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),f=!0),c=a(),g=!1,{add:n,force:m}}},{"./utils":2}],2:[function(c,a,d){"use strict";function b(c,d,b){var a=c[d];return void 0!==a&&null!==a||void 0===b?a:b}(a.exports={}).getOption=b},{}],3:[function(c,b,d){"use strict";var a=b.exports={};a.isIE=function(a){return!!function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")||-1!==a.indexOf("trident")||-1!==a.indexOf(" edge/")}()&&(!a||a===function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");do b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->";while(c[0])return a>4?a:void 0}())},a.isLegacyOpera=function(){return!!window.opera}},{}],4:[function(b,a,c){"use strict";(a.exports={}).forEach=function(b,d){for(var a=0,c;a<b.length;a++)if(c=d(b[a]),c)return c}},{}],5:[function(b,c,d){"use strict";var a=b("../browser-detector");c.exports=function(c){function i(c,g){function d(){g(c)}if(a.isIE(8))b(c).object={proxy:d},c.attachEvent("onresize",d);else{var e=f(c);if(!e)throw new Error("Element is not detectable by this strategy.");e.contentDocument.defaultView.addEventListener("resize",d)}}function j(b){var a=c.important?" !important; ":"; ";return(b.join(a)+a).trim()}function g(c,f,g){g||(g=f,f=c,c=null),c=c||{},c.debug,a.isIE(8)?g(f):function(f,k){function h(){function h(){if("static"===g.position){f.style.setProperty("position","relative",c.important?"important":"");var a=function(e,d,f,a){var b=f[a];"auto"!==b&&"0"!==function(a){return a.replace(/[^-\d\.]/g,"")}(b)&&(e.warn("An element that is positioned static has style."+a+"="+b+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+a+" will be set to 0. Element: ",d),d.style.setProperty(a,"0",c.important?"important":""))};a(d,f,g,"top"),a(d,f,g,"right"),a(d,f,g,"bottom"),a(d,f,g,"left")}}function j(){function a(c,e){if(!c.contentDocument){var d=b(c);return d.checkForObjectDocumentTimeoutId&&window.clearTimeout(d.checkForObjectDocumentTimeoutId),void(d.checkForObjectDocumentTimeoutId=setTimeout(function(){d.checkForObjectDocumentTimeoutId=0,a(c,e)},100))}e(c.contentDocument)}i||h(),a(this,function(a){k(f)})}""!==g.position&&(h(g),i=!0);var e=document.createElement("object");e.style.cssText=l,e.tabIndex=-1,e.type="text/html",e.setAttribute("aria-hidden","true"),e.onload=j,a.isIE()||(e.data="about:blank"),b(f)&&(f.appendChild(e),b(f).object=e,a.isIE()&&(e.data="about:blank"))}var l=j(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),i=!1,g=window.getComputedStyle(f),m=f.offsetWidth,n=f.offsetHeight;b(f).startSize={width:m,height:n},e?e.add(h):h()}(f,g)}function f(a){return b(a).object}function h(c){if(b(c)){var d=f(c);d&&(a.isIE(8)?c.detachEvent("onresize",d.proxy):c.removeChild(d),b(c).checkForObjectDocumentTimeoutId&&window.clearTimeout(b(c).checkForObjectDocumentTimeoutId),delete b(c).object)}}c=c||{};var d=c.reporter,e=c.batchProcessor,b=c.stateHandler.getState;if(!d)throw new Error("Missing required dependency: reporter.");return{makeDetectable:g,addListener:i,uninstall:h}}},{"../browser-detector":3}],6:[function(a,b,d){"use strict";var c=a("../collection-utils").forEach;b.exports=function(f){var b,e,a,m,h,n,g;function o(a){q(a,n,g)}function d(b){var a=f.important?" !important; ":"; ";return(b.join(a)+a).trim()}function q(c,f,e){if(!c.getElementById(f)){var b=e+"_animation",g=e+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+e+" > div::-webkit-scrollbar { "+d(["display: none"])+" }\n\n",a+="."+g+" { "+d(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+b,"animation-name: "+b])+" }\n",a+="@-webkit-keyframes "+b+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",a+="@keyframes "+b+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",function(d,a){a=a||function(a){c.head.appendChild(a)};var b=c.createElement("style");b.innerHTML=d,b.id=f,a(b)}(a)}}function p(a){a.className+=" "+g+"_animation_active"}function l(a,c,d){if(a.addEventListener)a.addEventListener(c,d);else{if(!a.attachEvent)return b.error("[scroll] Don't know how to add event listeners.");a.attachEvent("on"+c,d)}}function j(a,c,d){if(a.removeEventListener)a.removeEventListener(c,d);else{if(!a.detachEvent)return b.error("[scroll] Don't know how to remove event listeners.");a.detachEvent("on"+c,d)}}function i(b){return a(b).container.childNodes[0].childNodes[0].childNodes[0]}function k(b){return a(b).container.childNodes[0].childNodes[0].childNodes[1]}function t(b,c){if(!a(b).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");a(b).listeners.push(c)}function s(n,f,o){function j(){var a,c;if(n.debug)if(a=Array.prototype.slice.call(arguments),a.unshift(m.get(f),"Scroll: "),b.log.apply)b.log.apply(null,a);else for(c=0;c<a.length;c++)b.log(a[c])}function q(c){var d=a(c).container.childNodes[0],b=window.getComputedStyle(d);return!b.width||-1===b.width.indexOf("px")}function r(){var b=window.getComputedStyle(f),a={};return a.position=b.position,a.width=f.offsetWidth,a.height=f.offsetHeight,a.top=b.top,a.right=b.right,a.bottom=b.bottom,a.left=b.left,a.widthCSS=b.width,a.heightCSS=b.height,a}function E(){var b=r();a(f).startSize={width:b.width,height:b.height},j("Element start size",a(f).startSize)}function J(){a(f).listeners=[]}function B(){if(j("storeStyle invoked."),!a(f))return void j("Aborting because element has been uninstalled");var b=r();a(f).style=b}function v(b,c,d){a(b).lastWidth=c,a(b).lastHeight=d}function A(a){return i(a).childNodes[0]}function x(){return 2*h.width+1}function y(){return 2*h.height+1}function w(a){return a+10+x()}function u(a){return a+10+y()}function C(a){return 2*a+x()}function D(a){return 2*a+y()}function t(a,b,c){var d=i(a),e=k(a),f=w(b),g=u(c),h=C(b),j=D(c);d.scrollLeft=f,d.scrollTop=g,e.scrollLeft=h,e.scrollTop=j}function s(){var b=a(f).container,c;return b||(b=document.createElement("div"),b.className=g,b.style.cssText=d(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),a(f).container=b,p(b),f.appendChild(b),c=function(){a(f).onRendered&&a(f).onRendered()},l(b,"animationstart",c),a(f).onAnimationStart=c),b}function F(){var m,o,p,y,x,w,t,v,u,c,e,i,q,k,r;function A(){a(f).onExpand&&a(f).onExpand()}function z(){a(f).onShrink&&a(f).onShrink()}if(j("Injecting elements"),!a(f))return void j("Aborting because element has been uninstalled");!function(){var c=a(f).style,d;"static"===c.position&&(f.style.setProperty("position","relative",n.important?"important":""),d=function(d,c,e,a){var b=e[a];"auto"!==b&&"0"!==function(a){return a.replace(/[^-\d\.]/g,"")}(b)&&(d.warn("An element that is positioned static has style."+a+"="+b+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+a+" will be set to 0. Element: ",c),c.style[a]=0)},d(b,f,c,"top"),d(b,f,c,"right"),d(b,f,c,"bottom"),d(b,f,c,"left"))}(),m=a(f).container,m||(m=s()),o=h.width,p=h.height,y=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),x=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(function(a,b,c,d){return a=a?a+"px":"0",b=b?b+"px":"0",c=c?c+"px":"0",d=d?d+"px":"0",["left: "+a,"top: "+b,"right: "+d,"bottom: "+c]}(-(1+o),-(1+p),-p,-o))),w=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),t=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=d(["position: absolute","left: 0","top: 0"]),u=d(["position: absolute","width: 200%","height: 200%"]),c=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),q=document.createElement("div"),k=document.createElement("div"),r=document.createElement("div"),c.dir="ltr",c.style.cssText=y,c.className=g,e.className=g,e.style.cssText=x,i.style.cssText=w,q.style.cssText=v,k.style.cssText=t,r.style.cssText=u,i.appendChild(q),k.appendChild(r),e.appendChild(i),e.appendChild(k),c.appendChild(e),m.appendChild(c),l(i,"scroll",A),l(k,"scroll",z),a(f).onExpandScroll=A,a(f).onShrinkScroll=z}function G(){function g(b,c,d){var a=A(b),e=w(c),f=u(d);a.style.setProperty("width",e+"px",n.important?"important":""),a.style.setProperty("height",f+"px",n.important?"important":"")}function h(i){var c=f.offsetWidth,h=f.offsetHeight,k=c!==a(f).lastWidth||h!==a(f).lastHeight;j("Storing current size",c,h),v(f,c,h),e.add(0,function(){if(k){if(!a(f))return void j("Aborting because element has been uninstalled");if(!d())return void j("Aborting because element container has not been initialized");if(n.debug){var e=f.offsetWidth,i=f.offsetHeight;e===c&&i===h||b.warn(m.get(f),"Scroll: Size changed before updating detector elements.")}g(f,c,h)}}),e.add(1,function(){return a(f)?d()?void t(f,c,h):void j("Aborting because element container has not been initialized"):void j("Aborting because element has been uninstalled")}),k&&i&&e.add(2,function(){return a(f)?d()?void i():void j("Aborting because element container has not been initialized"):void j("Aborting because element has been uninstalled")})}function d(){return!!a(f).container}function l(){j("notifyListenersIfNeeded invoked");var b=a(f);return function(){return void 0===a(f).lastNotifiedWidth}()&&b.lastWidth===b.startSize.width&&b.lastHeight===b.startSize.height?j("Not notifying: Size is the same as the start size, and there has been no notification yet."):b.lastWidth===b.lastNotifiedWidth&&b.lastHeight===b.lastNotifiedHeight?j("Not notifying: Size already notified"):(j("Current size not notified, notifying..."),b.lastNotifiedWidth=b.lastWidth,b.lastNotifiedHeight=b.lastHeight,void c(a(f).listeners,function(a){a(f)}))}function r(){if(j("startanimation triggered."),q(f))return void j("Ignoring since element is still unrendered...");j("Element rendered.");var a=i(f),b=k(f);0!==a.scrollLeft&&0!==a.scrollTop&&0!==b.scrollLeft&&0!==b.scrollTop||(j("Scrollbars out of sync. Updating detector elements..."),h(l))}function o(){if(j("Scroll detected."),q(f))return void j("Scroll event fired while unrendered. Ignoring...");h(l)}if(j("registerListenersAndPositionElements invoked."),!a(f))return void j("Aborting because element has been uninstalled");a(f).onRendered=r,a(f).onExpand=o,a(f).onShrink=o;var p=a(f).style;g(f,p.width,p.height)}function H(){if(j("finalizeDomMutation invoked."),!a(f))return void j("Aborting because element has been uninstalled");var b=a(f).style;v(f,b.width,b.height),t(f,b.width,b.height)}function I(){o(f)}function z(){j("Installing..."),J(),E(),e.add(0,B),e.add(1,F),e.add(2,G),e.add(3,H),e.add(4,I)}o||(o=f,f=n,n=null),n=n||{},j("Making detectable..."),function(a){return!function(a){var b=a.getRootNode&&a.getRootNode().contains(a);return a===a.ownerDocument.body||a.ownerDocument.body.contains(a)||b}(a)||null===window.getComputedStyle(a)}(f)?(j("Element is detached"),s(),j("Waiting until element is attached..."),a(f).onRendered=function(){j("Element is now attached"),z()}):z()}function r(c){var b=a(c);b&&(b.onExpandScroll&&j(i(c),"scroll",b.onExpandScroll),b.onShrinkScroll&&j(k(c),"scroll",b.onShrinkScroll),b.onAnimationStart&&j(b.container,"animationstart",b.onAnimationStart),b.container&&c.removeChild(b.container))}if(f=f||{},b=f.reporter,e=f.batchProcessor,a=f.stateHandler.getState,m=(f.stateHandler.hasState,f.idHandler),!e)throw new Error("Missing required dependency: batchProcessor");if(!b)throw new Error("Missing required dependency: reporter.");return h=function(){var b=document.createElement("div"),a,c,e;return b.style.cssText=d(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]),a=document.createElement("div"),a.style.cssText=d(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),a.appendChild(b),document.body.insertBefore(a,document.body.firstChild),c=500-a.clientWidth,e=500-a.clientHeight,document.body.removeChild(a),{width:c,height:e}}(),n="erd_scroll_detection_scrollbar_style",g="erd_scroll_detection_container",o(window.document),{makeDetectable:s,addListener:t,uninstall:r,initDocument:o}}},{"../collection-utils":4}],7:[function(a,p,r){"use strict";function f(a){return Array.isArray(a)||void 0!==a.length}function g(a){if(Array.isArray(a))return a;var b=[];return d(a,function(a){b.push(a)}),b}function h(a){return a&&1===a.nodeType}function c(c,d,b){var a=c[d];return void 0!==a&&null!==a||void 0===b?a:b}var d=a("./collection-utils").forEach,j=a("./element-utils"),i=a("./listener-handler"),k=a("./id-generator"),l=a("./id-handler"),m=a("./reporter"),e=a("./browser-detector"),o=a("batch-processor"),b=a("./state-handler"),n=a("./detection-strategy/object.js"),q=a("./detection-strategy/scroll.js");p.exports=function(p){var t,A,C,a,B,x,r,w,v,s,y,z,u;function D(k,e,j){function p(a){var b=w.get(a);d(b,function(b){b(a)})}function m(c,a,b){w.add(a,b),c&&b(a)}if(j||(j=e,e=k,k={}),!e)throw new Error("At least one element required.");if(!j)throw new Error("Listener required.");if(h(e))e=[e];else{if(!f(e))return a.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=g(e)}var l=0,n=c(k,"callOnAdd",x.callOnAdd),o=c(k,"onReady",function(){}),i=c(k,"debug",x.debug);d(e,function(f){b.getState(f)||(b.initState(f),t.set(f));var c=t.get(f);if(i&&a.log("Attaching listener to element",c,f),!v.isDetectable(f))return i&&a.log(c,"Not detectable."),v.isBusy(f)?(i&&a.log(c,"System busy making it detectable"),m(n,f,j),u[c]=u[c]||[],void u[c].push(function(){++l===e.length&&o()})):(i&&a.log(c,"Making detectable..."),v.markBusy(f,!0),r.makeDetectable({debug:i,important:y},f,function(f){var g,h,k;i&&a.log(c,"onElementDetectable"),b.getState(f)?(v.markAsDetectable(f),v.markBusy(f,!1),r.addListener(f,p),m(n,f,j),g=b.getState(f),g&&g.startSize&&(h=f.offsetWidth,k=f.offsetHeight,g.startSize.width===h&&g.startSize.height===k||p(f)),u[c]&&d(u[c],function(a){a()})):i&&a.log(c,"Element uninstalled before being detectable."),delete u[c],++l===e.length&&o()}));i&&a.log(c,"Already detecable, adding listener."),m(n,f,j),l++}),l===e.length&&o()}function F(c){if(!c)return a.error("At least one element is required.");if(h(c))c=[c];else{if(!f(c))return a.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");c=g(c)}d(c,function(a){w.removeAllListeners(a),r.uninstall(a),b.cleanState(a)})}function E(a){r.initDocument&&r.initDocument(a)}if(p=p||{},p.idHandler?t={get:function(a){return p.idHandler.get(a,!0)},set:p.idHandler.set}:(A=k(),C=l({idGenerator:A,stateHandler:b}),t=C),a=p.reporter,a||(a=m(!1===a)),B=c(p,"batchProcessor",o({reporter:a})),x={},x.callOnAdd=!!c(p,"callOnAdd",!0),x.debug=!!c(p,"debug",!1),w=i(t),v=j({stateHandler:b}),s=c(p,"strategy","object"),y=c(p,"important",!1),z={reporter:a,batchProcessor:B,stateHandler:b,idHandler:t,important:y},"scroll"===s&&(e.isLegacyOpera()?(a.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),s="object"):e.isIE(9)&&(a.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),s="object")),"scroll"===s)r=q(z);else{if("object"!==s)throw new Error("Invalid strategy name: "+s);r=n(z)}return u={},{listenTo:D,removeListener:w.removeListener,removeAllListeners:w.removeAllListeners,uninstall:F,initDocument:E}}},{"./browser-detector":3,"./collection-utils":4,"./detection-strategy/object.js":5,"./detection-strategy/scroll.js":6,"./element-utils":8,"./id-generator":9,"./id-handler":10,"./listener-handler":11,"./reporter":12,"./state-handler":13,"batch-processor":1}],8:[function(b,a,c){"use strict";a.exports=function(b){function c(c){var b=a(c);return b&&!!b.isDetectable}function d(b){a(b).isDetectable=!0}function e(b){return!!a(b).busy}function f(b,c){a(b).busy=!!c}var a=b.stateHandler.getState;return{isDetectable:c,markAsDetectable:d,isBusy:e,markBusy:f}}},{}],9:[function(b,a,c){"use strict";a.exports=function(){function a(){return b++}var b=1;return{generate:a}}},{}],10:[function(b,a,c){"use strict";a.exports=function(a){function c(c){var a=b(c);return a&&void 0!==a.id?a.id:null}function d(d){var a=b(d),c;if(!a)throw new Error("setId required the element to have a resize detection state.");return c=e.generate(),a.id=c,c}var e=a.idGenerator,b=a.stateHandler.getState;return{get:c,set:d}}},{}],11:[function(b,a,c){"use strict";a.exports=function(c){function b(d){var b=c.get(d);return void 0===b?[]:a[b]||[]}function d(d,e){var b=c.get(d);a[b]||(a[b]=[]),a[b].push(e)}function e(d,e){for(var c=b(d),a=0,f=c.length;a<f;++a)if(c[a]===e){c.splice(a,1);break}}function f(c){var a=b(c);a&&(a.length=0)}var a={};return{get:b,add:d,removeListener:e,removeAllListeners:f}}},{}],12:[function(b,a,c){"use strict";a.exports=function(d){var a,b;function c(){}return a={log:c,warn:c,error:c},!d&&window.console&&(b=function(b,a){b[a]=function(){var b=console[a],c;if(b.apply)b.apply(console,arguments);else for(c=0;c<arguments.length;c++)b(arguments[c])}},b(a,"log"),b(a,"warn"),b(a,"error")),a}},{}],13:[function(g,c,f){"use strict";function d(c){return c[a]={},b(c)}function b(b){return b[a]}function e(b){delete b[a]}var a="_erd";c.exports={initState:d,getState:b,cleanState:e}},{}]},{},[7])(7)})